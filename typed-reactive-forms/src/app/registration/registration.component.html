<div class="form-container">
  <div class="title-container mat-elevation-z4">
    <h2>Student Registration</h2>
  </div>
  <mat-card class="mat-elevation-z2">
    <mat-card-content>
      <form [formGroup]="studentRegistrationForm" (ngSubmit)="onSubmit()">
        <mat-form-field class="full-width">
          <input
            matInput
            placeholder="First name"
            formControlName="firstName"
          />
          <mat-error
            *ngIf="(firstNameControl?.touched || submitted) && firstNameControl?.errors?.['required']"
            >First name is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput placeholder="Last name" formControlName="lastName" />
          <mat-error
            *ngIf="(lastNameControl?.touched || submitted) && lastNameControl?.errors?.['required']"
            >Last name is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput placeholder="Email" formControlName="email" />
          <mat-error
            *ngIf="(emailControl?.touched || submitted) && emailControl?.errors?.['required']"
            >Email is required.
          </mat-error>
          <mat-error
            *ngIf="
               emailControl?.touched &&
               emailControl?.errors?.['email']
            "
            >Enter a valid email address.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput placeholder="User Name" formControlName="username" />
          <mat-error
            *ngIf="
              (usernameControl?.touched || submitted) &&
             usernameControl?.errors?.['required']
            "
            >User Name is required.
          </mat-error>
          <mat-error
            *ngIf="
              usernameControl?.touched &&
              usernameControl?.errors?.['userNameNotAvailable']
            "
            >User Name is not available.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input
            matInput
            type="password"
            placeholder="Password"
            formControlName="password"
          />
          <mat-error
            *ngIf="
              (passwordControl?.touched || submitted) &&
               passwordControl?.errors?.['required']
             "
            >Password is required.
          </mat-error>
          <mat-error
            *ngIf="
              passwordControl?.touched &&
              passwordControl?.errors?.['invalidPassword']
            "
          >
            Password should have minimum 8 characters, at least 1 uppercase
            letter, 1 lowercase letter and 1 number.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input
            matInput
            type="password"
            placeholder="Confirm Password"
            formControlName="confirmPassword"
          />
          <mat-error
            *ngIf="
             (confirmPasswordControl?.touched || submitted) &&
             confirmPasswordControl?.errors?.['required']
            "
            >Password is required.
          </mat-error>
          <mat-error
            *ngIf="
              confirmPasswordControl?.touched &&
              confirmPasswordControl?.errors?.['passwordMismatch']
            "
          >
            Password do not match.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput placeholder="Age" formControlName="age" />
          <mat-error
            *ngIf="(ageControl?.touched || submitted) && ageControl?.errors?.['required']"
            >Age is required.
          </mat-error>
          <mat-error
            *ngIf="
              (ageControl?.touched || submitted) && 
              (ageControl?.errors?.['min'] || ageControl?.errors?.['max'])
            "
            >Age should be greater than 14 years and less than 25 years.
          </mat-error>
        </mat-form-field>

        <mat-card-actions>
          <button type="submit" mat-raised-button color="primary">
            Register
          </button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>
