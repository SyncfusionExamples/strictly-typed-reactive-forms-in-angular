<div class="form-container">
  <div class="title-container">
    <h1>Student Registration</h1>
  </div>

  <mat-card>
    <mat-card-content>
      <form [formGroup]="studentRegistrationForm" (ngSubmit)="onSubmit()">
        <mat-form-field class="full-width" appearance="outline">
          <mat-label>First name</mat-label>
          <input
            matInput
            placeholder="First name"
            formControlName="firstName"
          />
          <mat-error
            *ngIf="(registrationFormControl.firstName.touched || submitted) 
            && registrationFormControl.firstName.errors?.['required']"
            >First name is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Last name</mat-label>
          <input matInput placeholder="Last name" formControlName="lastName" />
          <mat-error
            *ngIf="(registrationFormControl.lastName.touched || submitted) 
            && registrationFormControl.lastName.errors?.['required']"
            >Last name is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput placeholder="Email" formControlName="email" />
          <mat-error
            *ngIf="(registrationFormControl.email.touched || submitted) 
            && registrationFormControl.email.errors?.['required']"
            >Email is required.
          </mat-error>
          <mat-error
            *ngIf="
            registrationFormControl.email.touched &&
            registrationFormControl.email.errors?.['email']
            "
            >Enter a valid email address.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>User Name</mat-label>
          <input matInput placeholder="User Name" formControlName="username" />
          <mat-error
            *ngIf="
              ( registrationFormControl.username || submitted) &&
              registrationFormControl.username.errors?.['required']
            "
            >User Name is required.
          </mat-error>
          <mat-error
            *ngIf="
            registrationFormControl.username.touched &&
            registrationFormControl.username.errors?.['userNameNotAvailable']
            "
            >User Name is not available.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Password</mat-label>
          <input
            matInput
            type="password"
            placeholder="Password"
            formControlName="password"
          />
          <mat-error
            *ngIf="
              (registrationFormControl.password.touched || submitted) &&
              registrationFormControl.password.errors?.['required']
             "
            >Password is required.
          </mat-error>
          <mat-error
            *ngIf="
            registrationFormControl.password &&
            registrationFormControl.password.errors?.['invalidPassword']
            "
          >
            Password should have minimum 8 characters, at least 1 uppercase
            letter, 1 lowercase letter and 1 number.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Confirm Password</mat-label>
          <input
            matInput
            type="password"
            placeholder="Confirm Password"
            formControlName="confirmPassword"
          />
          <mat-error
            *ngIf="
             (registrationFormControl.confirmPassword.touched || submitted) &&
             registrationFormControl.confirmPassword.errors?.['required']
            "
            >Password is required.
          </mat-error>
          <mat-error
            *ngIf="
            registrationFormControl.confirmPassword.touched &&
            registrationFormControl.confirmPassword.errors?.['passwordMismatch']
            "
          >
            Password do not match.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Age</mat-label>
          <input
            matInput
            type="number"
            placeholder="Age"
            formControlName="age"
          />
          <mat-error
            *ngIf="
           (registrationFormControl.age.touched || submitted) &&
           registrationFormControl.age.errors?.['required']
          "
            >Age is required.
          </mat-error>
          <mat-error
            *ngIf="
              (registrationFormControl.age.touched || submitted) && 
              (registrationFormControl.age.errors?.['min'] || registrationFormControl.age.errors?.['max'])
            "
            >Age should be greater than 14 years and less than 25 years.
          </mat-error>
        </mat-form-field>

        <mat-card-actions align="end">
          <button type="submit" mat-raised-button color="primary">
            Register
          </button>
          <button
            class="reset-button"
            type="reset"
            mat-raised-button
            color="warn"
            (click)="resetForm()"
          >
            Reset
          </button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>
